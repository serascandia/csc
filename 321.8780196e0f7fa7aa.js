"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[321],{5321:(it,M,r)=>{r.r(M),r.d(M,{MataderoModule:()=>d});var c=r(6895),s=r(9299),u=r(5694),Z=r(284),x=r(4859),f=r(9549),A=r(585),T=r(1572),_=r(6709),N=r(6236),U=r(7775),w=r(805),i=r(4006);const F=[{name:"id",title:"ID",order:!1,filter:!1,filterType:"number"},{name:"codigo",title:"Codigo",order:!0,filter:!0,filterType:"text"},{name:"codigoRef",title:"Codigo Ref",order:!0,filter:!0,filterType:"text"},{name:"nombre",title:"Nombre",order:!0,filter:!0,filterType:"text"},{name:"emailContacto",title:"Email Contacto",order:!0,filter:!0,filterType:"text"},{name:"telefono",title:"Telefono",order:!0,filter:!0,filterType:"text"},{name:"activo",title:"Activo",order:!0,filter:!0,filterType:"text"}];var t=r(4650),I=r(4707),C=r(262),g=r(2843),b=r(3900),y=r(9646),h=r(6743),J=r(529);class l{constructor(a){this._httpClient=a,this._rol=new I.t(1)}getAllMatadero(){return this._httpClient.get(`${h.N.apiUrl}/mataderos`).pipe((0,C.K)(a=>(console.error("Error occurred:",a),(0,g._)(()=>new Error("An error occurred while fetching mataderos.")))))}getMataderoById(a){return this._httpClient.get(`${h.N.apiUrl}/mataderos/${a}`).pipe((0,C.K)(o=>(console.error("Error occurred:",o),(0,g._)(()=>new Error("An error occurred while fetching mataderos.")))))}AddMatadero(a){return null==a?(0,g._)(()=>new Error("No se envio ningun valor")):this._httpClient.post(`${h.N.apiUrl}/mataderos`,a).pipe((0,b.w)(o=>(0,y.of)(o)))}UpdateMatadero(a,o){return null==o?(0,g._)(()=>new Error("No se envio ningun valor")):this._httpClient.put(`${h.N.apiUrl}/mataderos/${a}`,o).pipe((0,b.w)(n=>(0,y.of)(n)))}}l.\u0275fac=function(a){return new(a||l)(t.LFG(J.eN))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});var Q=r(5593),v=r(7392);function O(e,a){if(1&e&&t._UZ(0,"p-columnFilter",25),2&e){const o=t.oxw(2).$implicit;t.Q6J("type",o.filterType)("field",o.name)("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function Y(e,a){if(1&e&&(t.TgZ(0,"div",23),t._uU(1),t.YNc(2,O,1,5,"p-columnFilter",24),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.title," "),t.xp6(1),t.Q6J("ngIf",o.filter)}}function $(e,a){if(1&e&&t._UZ(0,"p-columnFilter",25),2&e){const o=t.oxw(2).$implicit;t.Q6J("type",o.filterType)("field",o.name)("showMatchModes",!1)("showOperator",!1)("showAddButton",!1)}}function R(e,a){if(1&e&&(t.TgZ(0,"div",23),t._uU(1),t.YNc(2,$,1,5,"p-columnFilter",24),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.title," "),t.xp6(1),t.Q6J("ngIf",o.filter)}}function S(e,a){if(1&e&&t._UZ(0,"p-columnFilter",25),2&e){const o=t.oxw(2).$implicit;t.Q6J("type",o.filterType)("field",o.name)("showMatchModes",!1)("showOperator",!1)("showAddButton",!0)}}function E(e,a){if(1&e&&(t.TgZ(0,"div",23),t._uU(1),t.YNc(2,S,1,5,"p-columnFilter",24),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.title," "),t.xp6(1),t.Q6J("ngIf",o.filter)}}function q(e,a){if(1&e&&t._UZ(0,"p-columnFilter",25),2&e){const o=t.oxw(2).$implicit;t.Q6J("type",o.filterType)("field",o.name)("showMatchModes",!1)("showOperator",!1)("showAddButton",!0)}}function j(e,a){if(1&e&&(t.TgZ(0,"div",23),t._uU(1),t.YNc(2,q,1,5,"p-columnFilter",24),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.title," "),t.xp6(1),t.Q6J("ngIf",o.filter)}}function B(e,a){if(1&e&&(t.TgZ(0,"th",21),t.YNc(1,Y,3,2,"div",22),t.YNc(2,R,3,2,"div",22),t.YNc(3,E,3,2,"div",22),t.YNc(4,j,3,2,"div",22),t.qZA()),2&e){const o=a.$implicit;t.Q6J("pSortableColumn",o.name),t.xp6(1),t.Q6J("ngIf","number"==o.filterType),t.xp6(1),t.Q6J("ngIf","text"==o.filterType),t.xp6(1),t.Q6J("ngIf","date"==o.filterType),t.xp6(1),t.Q6J("ngIf","boolean"==o.filterType)}}function L(e,a){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"th"),t.YNc(2,B,5,5,"th",20),t.qZA()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.columns)}}function P(e,a){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-checkbox",30),t.qZA()),2&e){const o=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",n[o.name])("color","primary")("disabled",!0)}}function G(e,a){if(1&e&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.Oqu(n[o.name])}}function z(e,a){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,P,2,3,"div",29),t.YNc(2,G,2,1,"div",29),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Q6J("ngIf","boolean"==o.filterType),t.xp6(1),t.Q6J("ngIf","boolean"!=o.filterType)}}function D(e,a){if(1&e&&(t.TgZ(0,"tr")(1,"td")(2,"a",26),t._UZ(3,"mat-icon",27),t.qZA()(),t.YNc(4,z,3,2,"td",28),t.qZA()),2&e){const o=a.$implicit,n=t.oxw();t.xp6(2),t.MGl("routerLink","edit/",o.id,""),t.xp6(2),t.Q6J("ngForOf",n.columns)}}function H(e,a){1&e&&t._UZ(0,"p-button",31)}function k(e,a){1&e&&t._UZ(0,"p-button",32)}function K(e,a){1&e&&t._UZ(0,"scs-pngtable-filters",33),2&e&&t.Q6J("tableColumns",a.columns)}const X=function(){return{"min-width":"75rem"}},W=function(){return[10,20,50]};class m{constructor(a){this._mataderoService=a,this.columns=F,this.mataderos=[],this.loading=!1,this.noExisteSAP=!0}ngOnInit(){this.loadDataFromServer()}loadDataFromServer(){this.loading=!0,this._mataderoService.getAllMatadero().subscribe(a=>{this.mataderos=a,this.loading=!1})}}m.\u0275fac=function(a){return new(a||m)(t.Y36(l))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-matadero"]],decls:24,vars:9,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"font-medium","tracking-tight","text-secondary"],[1,"flex","items-center","ml-6"],["routerLink","new","type","button","mat-flat-button","","matsteppernext","",1,"mat-stepper-next","px-8","mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button","mat-primary","mat-mdc-button-base"],[1,"mat-mdc-button-persistent-ripple","mdc-button__ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matripple","",1,"mat-ripple","mat-mdc-button-ripple"],[1,"mat-mdc-button-touch-target"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","w-full","mt-4"],[1,"sm:col-span-2","md:col-span-4","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl"],["responsiveLayout","stack","dataKey","id","currentPageReportTemplate","{first} a {last} de {totalRecords} registros",3,"loading","value","rows","tableStyle","paginator","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],["pTemplate","paginatorright"],["tableFilters",""],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["class","flex align-items-center",4,"ngIf"],[1,"flex","align-items-center"],["display","menu",3,"type","field","showMatchModes","showOperator","showAddButton",4,"ngIf"],["display","menu",3,"type","field","showMatchModes","showOperator","showAddButton"],["type","button","mat-flat-button","","matsteppernext","",3,"routerLink"],["svgIcon","mat_outline:edit_note"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-span-2","md:col-span-2","lg:col-span-1",3,"checked","color","disabled"],["type","button","icon","pi pi-plus","styleClass","p-button-text"],["type","button","icon","pi pi-cloud","styleClass","p-button-text"],[3,"tableColumns"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"Listado de mataderos"),t.qZA(),t._UZ(6,"div",4),t.qZA(),t.TgZ(7,"div",5)(8,"a",6),t._UZ(9,"span",7),t.TgZ(10,"span",8),t._uU(11," Nuevo Matadero "),t.qZA(),t._UZ(12,"span",9)(13,"span",10)(14,"span",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"p-table",14),t.YNc(18,L,3,1,"ng-template",15),t.YNc(19,D,5,2,"ng-template",16),t.YNc(20,H,1,0,"ng-template",17),t.YNc(21,k,1,0,"ng-template",18),t.qZA()()()()(),t.YNc(22,K,1,1,"ng-template",null,19,t.W1O)),2&a&&(t.xp6(17),t.Q6J("loading",o.loading)("value",o.mataderos)("rows",10)("tableStyle",t.DdM(7,X))("paginator",!0)("rowsPerPageOptions",t.DdM(8,W))("showCurrentPageReport",!0))},dependencies:[s.rH,c.sg,c.O5,u.iA,w.jx,u.lQ,u.xl,Q.zx,v.Hw,x.zs,_.oG]});var V=r(8288),tt=r(8214);const et=["addMataderoNgForm"];function ot(e,a){if(1&e&&(t.TgZ(0,"fuse-alert",26),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",o.alert.type)("@shake","error"===o.alert.type),t.xp6(1),t.hij(" ",o.alert.message,"> ")}}function at(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Crear Matadero "),t.qZA())}function rt(e,a){1&e&&t._UZ(0,"mat-progress-spinner",27),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}class p{constructor(a,o,n){this._formBuilder=a,this._activatedRoute=o,this._mataderoService=n,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.addMataderoForm=this._formBuilder.group({codigo:["",i.kI.required],codigoRef:["",i.kI.required],nombre:["",i.kI.required],emailContacto:["",i.kI.email],activo:[!0,i.kI.required]})}AddMatadero(){this.addMataderoForm.invalid||(this.addMataderoForm.disable(),this.showAlert=!1,this._mataderoService.AddMatadero(this.addMataderoForm.value).subscribe({next:a=>{this.alert={type:"success",message:"Matadero guardado"},this.showAlert=!0,this.addMataderoForm.enable(),this.addMataderoNgForm.resetForm()},error:a=>{console.error("ERROR API => ",a.error),this.addMataderoForm.enable(),this.addMataderoNgForm.resetForm(),this.alert={type:"error",message:"ocurrio un error al guardar"},this.showAlert=!0}}))}}p.\u0275fac=function(a){return new(a||p)(t.Y36(i.QS),t.Y36(s.gz),t.Y36(l))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-matadero-new"]],viewQuery:function(a,o){if(1&a&&t.Gf(et,5),2&a){let n;t.iGM(n=t.CRH())&&(o.addMataderoNgForm=n.first)}},decls:54,vars:19,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLink","/catalogos/matadero",1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex-auto","p-6","sm:p-10"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"flex","flex-col","items-center","mt-8","p-8","pb-4","bg-card","rounded-2xl","shadow",3,"formGroup"],["addMataderoNgForm","ngForm"],[1,"w-full","lg:w-3/4","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"col-span-2","md:col-span-1","lg:col-span-1"],["id","codigo","matInput","",3,"placeholder","formControlName"],["id","codigoRef","matInput","",3,"placeholder","formControlName"],["id","nombre","matInput","",3,"placeholder","formControlName"],["id","emailContacto","matInput","",3,"placeholder","formControlName"],["id","telefono","matInput","",3,"placeholder"],["id","activo","matInput","",1,"col-span-2","md:col-span-2","lg:col-span-1",3,"checked","color","formControlName"],[1,"w-full","lg:w-3/4","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3"],["mat-flat-button","",1,"mat-stepper-next","px-8","mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button","mat-primary","mat-mdc-button-base",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8",3,"appearance","showIcon","type"],[3,"diameter","mode"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t._uU(6,"Matadero"),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"mat-icon",6),t.TgZ(9,"a",7),t._uU(10,"Nuevo"),t.qZA()()(),t.TgZ(11,"div",8)(12,"h2",9),t._uU(13," Crear nuevo matadero "),t.qZA()()()(),t.TgZ(14,"div",10)(15,"div"),t.YNc(16,ot,2,5,"fuse-alert",11),t.TgZ(17,"form",12,13)(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),t._uU(22,"codigo Matadero"),t.qZA(),t._UZ(23,"input",16),t.TgZ(24,"mat-error"),t._uU(25," Codigo matadero Obligatorio "),t.qZA()(),t.TgZ(26,"mat-form-field",15)(27,"mat-label"),t._uU(28,"Codigo Referencia"),t.qZA(),t._UZ(29,"input",17),t.TgZ(30,"mat-error"),t._uU(31," Codigo Referencia Obligatorio "),t.qZA()(),t.TgZ(32,"mat-form-field",15)(33,"mat-label"),t._uU(34,"Nombre Matadero"),t.qZA(),t._UZ(35,"input",18),t.TgZ(36,"mat-error"),t._uU(37," Codigo Referencia Obligatorio "),t.qZA()(),t.TgZ(38,"mat-form-field",15)(39,"mat-label"),t._uU(40,"Email Contacto Matadero"),t.qZA(),t._UZ(41,"input",19),t.TgZ(42,"mat-error"),t._uU(43," Email no valido "),t.qZA()(),t.TgZ(44,"mat-form-field",15)(45,"mat-label"),t._uU(46,"Telefono"),t.qZA(),t._UZ(47,"input",20),t.qZA(),t.TgZ(48,"mat-checkbox",21),t._uU(49," Activo "),t.qZA()(),t.TgZ(50,"div",22)(51,"button",23),t.NdJ("click",function(){return o.AddMatadero()}),t.YNc(52,at,2,0,"span",24),t.YNc(53,rt,1,2,"mat-progress-spinner",25),t.qZA()()()()()()),2&a){const n=t.MAs(18);t.xp6(8),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(8),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.addMataderoForm),t.xp6(6),t.Q6J("placeholder","codigo Matadero")("formControlName","codigo"),t.xp6(6),t.Q6J("placeholder","Codigo Referencia")("formControlName","codigoRef"),t.xp6(6),t.Q6J("placeholder","Nombre Matadero")("formControlName","nombre"),t.xp6(6),t.Q6J("placeholder","Email de contacto")("formControlName","emailContacto"),t.xp6(6),t.Q6J("placeholder","Telefono Matadero"),t.xp6(1),t.Q6J("checked",!0)("color","primary")("formControlName","activo"),t.xp6(3),t.Q6J("color","primary")("disabled",n.disabled),t.xp6(1),t.Q6J("ngIf",!n.disabled),t.xp6(1),t.Q6J("ngIf",n.disabled)}},dependencies:[s.rH,c.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,v.Hw,Z.Nt,f.KE,f.hX,f.TO,x.lW,T.Ou,_.oG,tt.W],encapsulation:2,data:{animation:V.L}});const nt=[{path:"",component:m},{path:"new",component:p}];class d{}d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[s.Bz.forChild(nt),c.ez,i.UX,u.U$,A._8,v.Ps,Z.c,x.ot,f.lN,T.Cq,_.p9,N.J,U.fC,w.m8]})}}]);